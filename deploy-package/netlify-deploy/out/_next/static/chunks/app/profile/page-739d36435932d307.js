(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[178],{7751:function(e,s,t){Promise.resolve().then(t.bind(t,2598))},2598:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return r}});var a=t(4341),l=t(9593);function r(){let[e,s]=(0,l.useState)(!1),[t,r]=(0,l.useState)(!1),[n,c]=(0,l.useState)(""),[d,i]=(0,l.useState)(""),x=async()=>{try{s(!0),c(""),i("");let e=await fetch("/api/download/excel-report");if(!e.ok)throw Error("下载失败");let t=e.headers.get("Content-Disposition"),a="重点省份行情.xlsx";if(t){let e=t.match(/filename\*?=(?:UTF-8'')?([^;]+)/i);e&&(a=decodeURIComponent(e[1]))}let l=await e.blob(),r=window.URL.createObjectURL(l),n=document.createElement("a");n.href=r,n.download=a,document.body.appendChild(n),n.click(),window.URL.revokeObjectURL(r),document.body.removeChild(n),c("Excel文档下载成功！"),i("success"),setTimeout(()=>{c(""),i("")},3e3)}catch(e){console.error("下载Excel文档失败:",e),c("下载失败，请稍后重试"),i("error"),setTimeout(()=>{c(""),i("")},3e3)}finally{s(!1)}},o=async()=>{try{r(!0),c(""),i("");let e=await fetch("/api/download/weekly-report");if(!e.ok)throw Error("下载失败");let s=e.headers.get("Content-Disposition"),t="安佑预混料每周周报.txt";if(s){let e=s.match(/filename\*?=(?:UTF-8'')?([^;]+)/i);e&&(t=decodeURIComponent(e[1]))}let a=await e.blob(),l=window.URL.createObjectURL(a),n=document.createElement("a");n.href=l,n.download=t,document.body.appendChild(n),n.click(),window.URL.revokeObjectURL(l),document.body.removeChild(n),c("周报文档下载成功！"),i("success"),setTimeout(()=>{c(""),i("")},3e3)}catch(e){console.error("下载周报文档失败:",e),c("下载失败，请稍后重试"),i("error"),setTimeout(()=>{c(""),i("")},3e3)}finally{r(!1)}};return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50 pb-20",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-anyou to-anyou-dark px-4 pt-8 pb-12",children:(0,a.jsx)("div",{className:"max-w-lg mx-auto",children:(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("div",{className:"w-20 h-20 bg-white rounded-full flex flex-col items-center justify-center shadow-lg",children:(0,a.jsx)("span",{className:"text-4xl",children:"\uD83C\uDFE2"})}),(0,a.jsx)("h1",{className:"text-white text-xl font-bold mt-4",children:"安佑心科技"}),(0,a.jsx)("p",{className:"text-white/90 text-sm mt-1",children:"专业畜牧行情服务"})]})})}),(0,a.jsx)("div",{className:"px-4 -mt-6",children:(0,a.jsxs)("div",{className:"max-w-lg mx-auto space-y-4",children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center mb-4",children:[(0,a.jsx)("span",{className:"text-xl text-anyou-dark",children:"\uD83D\uDCE5"}),(0,a.jsx)("h2",{className:"text-gray-900 font-bold text-lg ml-2",children:"文档下载"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("button",{onClick:x,disabled:e||t,className:"w-full py-4 rounded-xl text-base font-medium transition-colors ".concat(e?"bg-gray-400 text-gray-200 cursor-not-allowed":"bg-anyou-dark text-white hover:bg-anyou"),children:(0,a.jsx)("span",{className:"flex items-center justify-center",children:e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent mr-2"}),"下载中..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"text-lg mr-2",children:"\uD83D\uDCCA"}),"重点省份行情"]})})}),(0,a.jsx)("button",{onClick:o,disabled:e||t,className:"w-full py-4 rounded-xl text-base font-medium transition-colors ".concat(t?"bg-gray-400 text-gray-200 cursor-not-allowed":"bg-anyou-dark text-white hover:bg-anyou"),children:(0,a.jsx)("span",{className:"flex items-center justify-center",children:t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent mr-2"}),"下载中..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"text-lg mr-2",children:"\uD83D\uDCCB"}),"每周周报"]})})})]}),n&&(0,a.jsx)("div",{className:"mt-3 p-3 rounded-lg text-sm text-center ".concat("success"===d?"bg-anyou-light/30 text-anyou-dark border border-anyou/30":"bg-red-50 text-red-700 border border-red-200"),children:n})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-4 mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center mb-3",children:[(0,a.jsx)("span",{className:"text-xl text-anyou-dark",children:"ℹ️"}),(0,a.jsx)("h2",{className:"text-gray-900 font-bold text-lg ml-2",children:"关于我们"})]}),(0,a.jsx)("p",{className:"text-gray-600 text-sm leading-relaxed mb-3",children:"安佑预混料每日行情是一个专业化、自动化、可视化的畜牧饲料原料市场行情信息平台，为畜牧养殖户、饲料生产企业从业者、行业分析师等用户提供实时、准确的市场行情数据和服务。"}),(0,a.jsxs)("div",{className:"border-t border-gray-200 pt-3 space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between py-2",children:[(0,a.jsx)("span",{className:"text-gray-500 text-sm",children:"版本号"}),(0,a.jsx)("span",{className:"text-gray-900 text-sm",children:"v1.0.0"})]}),(0,a.jsxs)("div",{className:"flex flex-col py-2",children:[(0,a.jsx)("p",{className:"text-gray-500 text-sm mb-2",children:"数据来源"}),(0,a.jsxs)("ul",{className:"text-gray-700 text-xs leading-relaxed space-y-1 ml-2",children:[(0,a.jsx)("li",{children:"• 博亚和讯 (boyar.cn)"}),(0,a.jsx)("li",{children:"• 猪好多网 (yangzhu360.com)"}),(0,a.jsx)("li",{children:"• 玄田数据 (xt.yangzhu.vip)"})]})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-4 mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center mb-3",children:[(0,a.jsx)("span",{className:"text-xl text-anyou-dark",children:"❓"}),(0,a.jsx)("h2",{className:"text-gray-900 font-bold text-lg ml-2",children:"功能说明"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-start",children:[(0,a.jsx)("span",{className:"text-xl text-anyou-dark mt-0.5",children:"●"}),(0,a.jsxs)("div",{className:"ml-2 flex-1",children:[(0,a.jsx)("p",{className:"text-gray-900 font-medium",children:"每日行情"}),(0,a.jsx)("p",{className:"text-gray-600 text-sm mt-1",children:"展示生猪、仔猪、鸡蛋、淘汰鸡、玉米、豆粕等6个核心品类的最新价格和涨跌情况"})]})]}),(0,a.jsxs)("div",{className:"flex items-start",children:[(0,a.jsx)("span",{className:"text-xl text-anyou-dark mt-0.5",children:"●"}),(0,a.jsxs)("div",{className:"ml-2 flex-1",children:[(0,a.jsx)("p",{className:"text-gray-900 font-medium",children:"每周周报"}),(0,a.jsx)("p",{className:"text-gray-600 text-sm mt-1",children:"每周一自动生成，包含周度平均价格、涨跌幅分析和市场趋势预判"})]})]})]})]})]})})]})}}},function(e){e.O(0,[665,298,744],function(){return e(e.s=7751)}),_N_E=e.O()}]);