(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[450],{8183:function(e,s,t){Promise.resolve().then(t.bind(t,7503))},7503:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return c}});var a=t(4341),n=t(9593),l=t(2987);function c(){let[e,s]=(0,n.useState)(null),[t,c]=(0,n.useState)(!0);(0,n.useEffect)(()=>{i()},[]);let i=async()=>{try{c(!0);let e=await fetch("/api/weekly-report"),t=await e.json();t.data&&s(t.data)}catch(e){console.error("加载周报失败:",e)}finally{c(!1)}},r=e=>0===e?"text-gray-900":e>0?"text-red-600":"text-anyou-dark",x=e=>0===e?"−":e>0?"↑":"↓",d=(e,s)=>"玉米"===s||"豆粕"===s?e.toFixed(0):e.toFixed(2);return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50 pb-20",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-anyou to-anyou-dark px-4 pt-8 pb-6",children:(0,a.jsxs)("div",{className:"max-w-lg mx-auto",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)("img",{src:"/安佑心科技LOGO.png",alt:"安佑心科技LOGO",className:"w-12 h-12 object-contain"})}),e&&(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-white text-sm",children:e.week_start}),(0,a.jsxs)("p",{className:"text-white/70 text-xs",children:["至 ",e.week_end]})]})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h2",{className:"text-white text-2xl font-bold",children:"每周周报"}),(0,a.jsx)("p",{className:"text-white/90 text-sm mt-2",children:"Weekly Report"})]})]})}),(0,a.jsx)("div",{className:"px-4 py-4",children:(0,a.jsx)("div",{className:"max-w-lg mx-auto space-y-4",children:t?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-20",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-anyou border-t-transparent"}),(0,a.jsx)("p",{className:"text-gray-500 mt-4",children:"加载中..."})]}):e?(0,a.jsxs)(a.Fragment,{children:[e.summary&&(0,a.jsxs)("div",{className:"bg-white rounded-xl p-4 shadow-md",children:[(0,a.jsxs)("div",{className:"flex items-center mb-3",children:[(0,a.jsx)("span",{className:"text-xl text-anyou-dark",children:"\uD83D\uDCC8"}),(0,a.jsx)("h3",{className:"text-gray-900 font-bold text-lg ml-2",children:"市场概述"})]}),(0,a.jsx)("p",{className:"text-gray-700 leading-relaxed",children:e.summary})]}),e.category_reports&&l.a.map(s=>{let t=e.category_reports[s.name];return t?(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-anyou to-anyou-dark px-4 py-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"text-xl text-white",children:s.icon}),(0,a.jsx)("span",{className:"text-white text-base font-bold ml-2",children:s.name})]}),(0,a.jsx)("span",{className:"text-white/80 text-xs",children:s.unit})]})}),(0,a.jsxs)("div",{className:"px-4 py-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-gray-500 text-xs mb-1",children:"周平均价"}),(0,a.jsx)("p",{className:"text-gray-900 text-2xl font-bold",children:d(t.avg_price,s.name)})]}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col items-end",children:[(0,a.jsx)("p",{className:"text-gray-500 text-xs mb-1",children:"环比变化"}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"text-base ".concat(r(t.change_amount)),children:x(t.change_amount)}),(0,a.jsxs)("span",{className:"text-lg font-bold ml-1 ".concat(r(t.change_amount)),children:[t.change_amount>=0?"+":"",t.change_amount.toFixed(2)]})]}),(0,a.jsxs)("span",{className:"text-xs mt-1 ".concat(r(t.change_percent)),children:[t.change_percent>=0?"+":"",t.change_percent.toFixed(2),"%"]})]})]}),(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"text-base text-anyou-dark",children:"\uD83D\uDCCA"}),(0,a.jsxs)("p",{className:"text-anyou-dark font-medium ml-2",children:["趋势：",t.trend]})]}),t.next_week_prediction&&(0,a.jsxs)("div",{className:"flex items-center mt-2 ml-6",children:[(0,a.jsx)("span",{className:"text-sm text-anyou-dark",children:"\uD83D\uDD2E"}),(0,a.jsxs)("p",{className:"text-gray-700 text-sm ml-2",children:["下周预计均价：",(0,a.jsx)("span",{className:"font-bold text-gray-900",children:d(t.next_week_prediction.price,s.name)})," ",t.next_week_prediction.unit]})]})]}),t.analysis&&(0,a.jsxs)("div",{className:"border-t border-gray-200 pt-4",children:[(0,a.jsxs)("div",{className:"flex items-center mb-2",children:[(0,a.jsx)("span",{className:"text-base text-anyou-dark",children:"\uD83D\uDCDD"}),(0,a.jsx)("h4",{className:"text-gray-900 font-medium ml-2",children:"市场分析"})]}),(0,a.jsx)("p",{className:"text-gray-600 text-sm leading-relaxed",children:t.analysis})]})]})]},s.name):null})]}):(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-20",children:[(0,a.jsx)("span",{className:"text-5xl",children:"\uD83D\uDCCB"}),(0,a.jsx)("p",{className:"text-gray-500 mt-4",children:"暂无周报数据"}),(0,a.jsx)("p",{className:"text-gray-400 text-sm mt-2",children:"周报将在每周一自动生成"})]})})}),(0,a.jsx)("div",{className:"px-4 pb-24 pt-4",children:(0,a.jsxs)("div",{className:"max-w-lg mx-auto bg-white rounded-xl p-4 shadow-md",children:[(0,a.jsxs)("div",{className:"flex items-center mb-2",children:[(0,a.jsx)("span",{className:"text-lg text-anyou-dark",children:"ℹ️"}),(0,a.jsx)("h3",{className:"text-gray-900 font-medium ml-2",children:"周报说明"})]}),(0,a.jsx)("p",{className:"text-gray-600 text-sm leading-relaxed",children:"周报每周一上午9:00自动生成，汇总上周（周一至周日）市场数据并进行深度分析。分析内容仅供参考，不构成投资建议。"})]})})]})}},2987:function(e,s,t){"use strict";t.d(s,{a:function(){return a}});let a=[{name:"生猪",unit:"元/公斤",icon:"\uD83D\uDC37"},{name:"仔猪",unit:"元/公斤",icon:"\uD83D\uDC16"},{name:"鸡蛋",unit:"元/公斤",icon:"\uD83E\uDD5A"},{name:"淘汰鸡",unit:"元/公斤",icon:"\uD83D\uDC13"},{name:"玉米",unit:"元/吨",icon:"\uD83C\uDF3D"},{name:"豆粕",unit:"元/吨",icon:"\uD83E\uDED8"}]}},function(e){e.O(0,[665,298,744],function(){return e(e.s=8183)}),_N_E=e.O()}]);